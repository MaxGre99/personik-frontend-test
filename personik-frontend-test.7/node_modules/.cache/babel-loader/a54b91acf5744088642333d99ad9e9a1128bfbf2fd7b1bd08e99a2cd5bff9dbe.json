{"ast":null,"code":"var _jsxFileName = \"/home/max/Tutorials/personik-frontend-test/src/components/Game.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport '../styles/index.css';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport Timer from './Timer.jsx';\nimport TimerLine from './TimerLine.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst opponenetTurn = async (cities, usedCities, lastCity) => {\n  return new Promise(resolve => {\n    const randomDelay = Math.floor(Math.random() * 180) * 1000;\n    setTimeout(() => {\n      const lastChar = lastCity.at(-1);\n      const secondLastChar = lastCity.at(-2);\n      const requiredChar = lastChar === 'ь' || lastChar === 'ъ' ? secondLastChar : lastChar;\n      const availableCities = cities.filter(city => city[0].toLowerCase() === requiredChar.toLowerCase() && !usedCities.includes(city));\n      const randomCity = availableCities[Math.floor(Math.random() * availableCities.length)];\n      resolve(randomCity);\n    }, randomDelay);\n  });\n};\nconst Game = ({\n  setVictory,\n  setGameOn,\n  usedCities,\n  setUsedCities\n}) => {\n  _s();\n  const [yourTurn, setYourTurn] = useState(true);\n  const [timeLeft, setTimeLeft] = useState(120);\n  const [cities, setCities] = useState([]);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const handleOpponentTurn = async () => {\n    const lastCity = usedCities.at(-1);\n    const opponentCity = await opponenetTurn(cities, usedCities, lastCity);\n    if (opponentCity) {\n      setUsedCities([...usedCities, opponentCity]);\n      setYourTurn(true);\n      setTimeLeft(120);\n    } else {\n      setGameOn(false);\n      setVictory(true);\n    }\n  };\n  const citySchema = yup.object().shape({\n    city: yup.string().required('Необходимо ввести название города').test('is-valid-city', 'Такого города не существует, или просто нет в базе данных игры', value => cities.includes(value)).test('is-not-duplicate', 'Такой город уже называли', value => !usedCities.includes(value)).test('is-correct-letter', 'Город должен начинатся с последней буквы предыдущего города', value => {\n      if (usedCities.length === 0) {\n        return true;\n      }\n      const lastCity = usedCities.at(-1);\n      const lastChar = lastCity.at(-1);\n      const secondLastChar = lastCity.at(-2);\n      const requiredChar = lastChar === 'ь' || lastChar === 'ъ' ? secondLastChar : lastChar;\n      return value[0].toLowerCase() === requiredChar;\n    })\n  });\n  const formik = useFormik({\n    initialValues: {\n      city: ''\n    },\n    validationSchema: citySchema,\n    onSubmit: (values, {\n      resetForm\n    }) => {\n      setUsedCities([...usedCities, values.city]);\n      resetForm();\n      setYourTurn(!yourTurn);\n      setTimeLeft(120);\n    }\n  });\n  useEffect(() => {\n    const fetchCities = async () => {\n      try {\n        const response = await fetch('./cities.txt');\n        const text = await response.text();\n        const citiesArray = text.split('\\n').map(city => city.trim());\n        setCities(citiesArray);\n      } catch (err) {\n        console.error('Cities fetching failed:', err);\n      }\n    };\n    fetchCities();\n  }, []);\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTimeLeft(prevTime => {\n        if (prevTime > 0) {\n          return prevTime - 1;\n        } else if (prevTime === 0 && yourTurn === true) {\n          setGameOn(false);\n          setVictory(false);\n        } else if (prevTime === 0 && yourTurn === false) {\n          setGameOn(false);\n          setVictory(true);\n        }\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  });\n  useEffect(() => {\n    !yourTurn ? handleOpponentTurn() : inputRef.current.focus();\n  }, [usedCities]);\n  useEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [usedCities]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-576 sm:w-2/3 md:w-1/2 lg:w-1/3 h-full sm:h-2/3 md:h-1/2 lg:1/3 text-base sm:text-lg md:text-xl lg:text-2xl border border-inherit shadow bg-white rounded-2xl\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between px-5 h-64\",\n      children: [yourTurn ? /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441 \\u0432\\u0430\\u0448\\u0430 \\u043E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441 \\u043E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C \\u0441\\u043E\\u043F\\u0435\\u0440\\u043D\\u0438\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Timer, {\n        timeLeft: timeLeft\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(TimerLine, {\n      timeLeft: timeLeft\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-320 flex flex-col items-center justify-center mt-2 mb-1\",\n      children: usedCities.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-gray-400\",\n        children: \"\\u041F\\u0435\\u0440\\u0432\\u044B\\u0439 \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A \\u0432\\u0441\\u043F\\u043E\\u043C\\u0438\\u043D\\u0430\\u0435\\u0442 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full px-5 flex flex-col space-y-2 overflow-y-auto\",\n        children: [usedCities.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `self-${index % 2 === 0 ? 'end' : 'start'} p-3 text-center max-w-xs ${index % 2 === 0 ? 'bg-mainColor text-white rounded-t-2xl rounded-l-2xl' : 'bg-violet-50 rounded-t-2xl rounded-r-2xl'}`,\n          children: city\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 8\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      className: \"flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex items-center w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: yourTurn ? 'Напишите любой город, например, где вы живёте?' : 'Ожидаем ответа соперника...',\n          className: \"w-full h-48 mx-5 px-3 border-inherit rounded-md bg-messageBoxColor\",\n          onChange: formik.handleChange,\n          onBlur: formik.onBlur,\n          value: formik.values.city,\n          name: \"city\",\n          disabled: yourTurn ? false : true,\n          ref: inputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: `absolute right-7 top-1/2 transform -translate-y-1/2 text-white border-inherit rounded-md ${yourTurn ? 'bg-mainColor' : 'bg-gray-400'}`,\n          disabled: yourTurn ? false : true,\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            strokeWidth: \"1.5\",\n            stroke: \"currentColor\",\n            className: \"size-8\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              d: \"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this), formik.touched.city && formik.errors.city ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"bg-red-500 text-white text-sm border-inherit rounded px-5 my-0.5 py-0.5\",\n        children: formik.errors.city\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 6\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 3\n  }, this);\n};\n_s(Game, \"4Ms3/78PVO1DVkCcwI1bXwe9+gk=\", false, function () {\n  return [useFormik];\n});\n_c = Game;\nexport default Game;\nvar _c;\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"names":["useEffect","useState","useRef","useFormik","yup","Timer","TimerLine","jsxDEV","_jsxDEV","opponenetTurn","cities","usedCities","lastCity","Promise","resolve","randomDelay","Math","floor","random","setTimeout","lastChar","at","secondLastChar","requiredChar","availableCities","filter","city","toLowerCase","includes","randomCity","length","Game","setVictory","setGameOn","setUsedCities","_s","yourTurn","setYourTurn","timeLeft","setTimeLeft","setCities","messagesEndRef","inputRef","handleOpponentTurn","opponentCity","citySchema","object","shape","string","required","test","value","formik","initialValues","validationSchema","onSubmit","values","resetForm","fetchCities","response","fetch","text","citiesArray","split","map","trim","err","console","error","timer","setInterval","prevTime","clearInterval","current","focus","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","ref","handleSubmit","type","placeholder","onChange","handleChange","onBlur","name","disabled","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","touched","errors","_c","$RefreshReg$"],"sources":["/home/max/Tutorials/personik-frontend-test/src/components/Game.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport '../styles/index.css';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport Timer from './Timer.jsx';\nimport TimerLine from './TimerLine.jsx';\n\nconst opponenetTurn = async (cities, usedCities, lastCity) => {\n\treturn new Promise((resolve) => {\n\t\tconst randomDelay = Math.floor(Math.random() * 180) * 1000;\n\t\tsetTimeout(() => {\n\t\t\tconst lastChar = lastCity.at(-1);\n\t\t\tconst secondLastChar = lastCity.at(-2);\n\t\t\tconst requiredChar =\n\t\t\t\tlastChar === 'ь' || lastChar === 'ъ' ? secondLastChar : lastChar;\n\n\t\t\tconst availableCities = cities.filter(\n\t\t\t\t(city) =>\n\t\t\t\t\tcity[0].toLowerCase() === requiredChar.toLowerCase() &&\n\t\t\t\t\t!usedCities.includes(city)\n\t\t\t);\n\n\t\t\tconst randomCity =\n\t\t\t\tavailableCities[Math.floor(Math.random() * availableCities.length)];\n\n\t\t\tresolve(randomCity);\n\t\t}, randomDelay);\n\t});\n};\n\nconst Game = ({ setVictory, setGameOn, usedCities, setUsedCities }) => {\n\tconst [yourTurn, setYourTurn] = useState(true);\n\tconst [timeLeft, setTimeLeft] = useState(120);\n\tconst [cities, setCities] = useState([]);\n\tconst messagesEndRef = useRef(null);\n\tconst inputRef = useRef(null);\n\n\tconst handleOpponentTurn = async () => {\n\t\tconst lastCity = usedCities.at(-1);\n\t\tconst opponentCity = await opponenetTurn(cities, usedCities, lastCity);\n\t\tif (opponentCity) {\n\t\t\tsetUsedCities([...usedCities, opponentCity]);\n\t\t\tsetYourTurn(true);\n\t\t\tsetTimeLeft(120);\n\t\t} else {\n\t\t\tsetGameOn(false);\n\t\t\tsetVictory(true);\n\t\t}\n\t};\n\n\tconst citySchema = yup.object().shape({\n\t\tcity: yup\n\t\t\t.string()\n\t\t\t.required('Необходимо ввести название города')\n\t\t\t.test(\n\t\t\t\t'is-valid-city',\n\t\t\t\t'Такого города не существует, или просто нет в базе данных игры',\n\t\t\t\t(value) => cities.includes(value)\n\t\t\t)\n\t\t\t.test(\n\t\t\t\t'is-not-duplicate',\n\t\t\t\t'Такой город уже называли',\n\t\t\t\t(value) => !usedCities.includes(value)\n\t\t\t)\n\t\t\t.test(\n\t\t\t\t'is-correct-letter',\n\t\t\t\t'Город должен начинатся с последней буквы предыдущего города',\n\t\t\t\t(value) => {\n\t\t\t\t\tif (usedCities.length === 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst lastCity = usedCities.at(-1);\n\t\t\t\t\tconst lastChar = lastCity.at(-1);\n\t\t\t\t\tconst secondLastChar = lastCity.at(-2);\n\t\t\t\t\tconst requiredChar =\n\t\t\t\t\t\tlastChar === 'ь' || lastChar === 'ъ' ? secondLastChar : lastChar;\n\t\t\t\t\treturn value[0].toLowerCase() === requiredChar;\n\t\t\t\t}\n\t\t\t),\n\t});\n\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tcity: '',\n\t\t},\n\t\tvalidationSchema: citySchema,\n\t\tonSubmit: (values, { resetForm }) => {\n\t\t\tsetUsedCities([...usedCities, values.city]);\n\t\t\tresetForm();\n\t\t\tsetYourTurn(!yourTurn);\n\t\t\tsetTimeLeft(120);\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tconst fetchCities = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('./cities.txt');\n\t\t\t\tconst text = await response.text();\n\t\t\t\tconst citiesArray = text.split('\\n').map((city) => city.trim());\n\t\t\t\tsetCities(citiesArray);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Cities fetching failed:', err);\n\t\t\t}\n\t\t};\n\n\t\tfetchCities();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst timer = setInterval(() => {\n\t\t\tsetTimeLeft((prevTime) => {\n\t\t\t\tif (prevTime > 0) {\n\t\t\t\t\treturn prevTime - 1;\n\t\t\t\t} else if (prevTime === 0 && yourTurn === true) {\n\t\t\t\t\tsetGameOn(false);\n\t\t\t\t\tsetVictory(false);\n\t\t\t\t} else if (prevTime === 0 && yourTurn === false) {\n\t\t\t\t\tsetGameOn(false);\n\t\t\t\t\tsetVictory(true);\n\t\t\t\t}\n\t\t\t});\n\t\t}, 1000);\n\n\t\treturn () => clearInterval(timer);\n\t});\n\n\tuseEffect(() => {\n\t\t!yourTurn ? handleOpponentTurn() : inputRef.current.focus();\n\t}, [usedCities]);\n\n\tuseEffect(() => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [usedCities]);\n\n\treturn (\n\t\t<div className='w-576 sm:w-2/3 md:w-1/2 lg:w-1/3 h-full sm:h-2/3 md:h-1/2 lg:1/3 text-base sm:text-lg md:text-xl lg:text-2xl border border-inherit shadow bg-white rounded-2xl'>\n\t\t\t<div className='flex items-center justify-between px-5 h-64'>\n\t\t\t\t{yourTurn ? (\n\t\t\t\t\t<h1>Сейчас ваша очередь</h1>\n\t\t\t\t) : (\n\t\t\t\t\t<h1>Сейчас очередь соперника</h1>\n\t\t\t\t)}\n\t\t\t\t<Timer timeLeft={timeLeft} />\n\t\t\t</div>\n\t\t\t<TimerLine timeLeft={timeLeft} />\n\t\t\t<div className='h-320 flex flex-col items-center justify-center mt-2 mb-1'>\n\t\t\t\t{usedCities.length === 0 ? (\n\t\t\t\t\t<span className='text-gray-400'>\n\t\t\t\t\t\tПервый участник вспоминает города...\n\t\t\t\t\t</span>\n\t\t\t\t) : (\n\t\t\t\t\t<div className='w-full px-5 flex flex-col space-y-2 overflow-y-auto'>\n\t\t\t\t\t\t{usedCities.map((city, index) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={`self-${\n\t\t\t\t\t\t\t\t\tindex % 2 === 0 ? 'end' : 'start'\n\t\t\t\t\t\t\t\t} p-3 text-center max-w-xs ${\n\t\t\t\t\t\t\t\t\tindex % 2 === 0 ? 'bg-mainColor text-white rounded-t-2xl rounded-l-2xl' : 'bg-violet-50 rounded-t-2xl rounded-r-2xl'\n\t\t\t\t\t\t\t\t}`}>\n\t\t\t\t\t\t\t\t{city}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<div ref={messagesEndRef} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<form\n\t\t\t\tonSubmit={formik.handleSubmit}\n\t\t\t\tclassName='flex flex-col items-center'>\n\t\t\t\t<div className='relative flex items-center w-full'>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\tyourTurn\n\t\t\t\t\t\t\t\t? 'Напишите любой город, например, где вы живёте?'\n\t\t\t\t\t\t\t\t: 'Ожидаем ответа соперника...'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName='w-full h-48 mx-5 px-3 border-inherit rounded-md bg-messageBoxColor'\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.onBlur}\n\t\t\t\t\t\tvalue={formik.values.city}\n\t\t\t\t\t\tname='city'\n\t\t\t\t\t\tdisabled={yourTurn ? false : true}\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\tclassName={`absolute right-7 top-1/2 transform -translate-y-1/2 text-white border-inherit rounded-md ${\n\t\t\t\t\t\t\tyourTurn ? 'bg-mainColor' : 'bg-gray-400'\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tdisabled={yourTurn ? false : true}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns='http://www.w3.org/2000/svg'\n\t\t\t\t\t\t\tfill='none'\n\t\t\t\t\t\t\tviewBox='0 0 24 24'\n\t\t\t\t\t\t\tstrokeWidth='1.5'\n\t\t\t\t\t\t\tstroke='currentColor'\n\t\t\t\t\t\t\tclassName='size-8'>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tstrokeLinecap='round'\n\t\t\t\t\t\t\t\tstrokeLinejoin='round'\n\t\t\t\t\t\t\t\td='M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t{formik.touched.city && formik.errors.city ? (\n\t\t\t\t\t<p className='bg-red-500 text-white text-sm border-inherit rounded px-5 my-0.5 py-0.5'>\n\t\t\t\t\t\t{formik.errors.city}\n\t\t\t\t\t</p>\n\t\t\t\t) : null}\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n\nexport default Game;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}